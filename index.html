<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="preconnect" href="https://fonts.googleapis.com"> 
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/explainer-page.css">

  <meta name="theme-color" content="#fafafa">


</head>

<body>

  <!-- Add your site or application content here -->


  <style>





    #dynamicOrchestrations {
      left: 0;
      padding-top: 165vh;
      background: #dee3e4;
      color: #39474a;
    }
    #dynamicOrchestrations .innerWrap {
      padding-top: 3rem;
      padding-bottom: 3rem;
    }
    #dynamicOrchestrations .mixer {
      background: url(images/symbol-mixer.png) no-repeat left center;
      height: 100%;
      background-size: 5rem 5rem;
    }

    #triggeredFX {
      padding: 3rem 0;
      background: #eaedef;
      color: #39474a;
    }
    #triggeredFX .mic {
      background: url(images/mic-symbol.png) no-repeat left center;
      height: 100%;
      background-size: 5rem 7.5rem;
    }

    #combatDetection {
      background: #dee3e4;
      color: #39474a;
      padding: 3rem 0;
    }
    #combatDetection .combat {
      background: url(images/sword-icon.png) no-repeat left top;
      height: 100%;
      background-size: 5rem 8.015873015873016rem;
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 0.2rem;
      font-variant-caps: small-caps;
      /* color: #d5d5d5; */
      /* color: #22292b; */
    }
    h3 {
      font-size: 1.2rem;
      margin-bottom: 0.6rem;
      font-variant-caps: small-caps;
    }
    p {
      margin-bottom: 1rem;
    }

    .minorSection {
      padding: 2rem 0;
    }
    iframe {
      margin: 1rem 0 2.5rem;
    }

  </style>

  <!-- TO DO:
    Add fixed position to header through js, so page still works without js
    Way to remove placeholder content?
  -->


  <div id="mma">

    <div class="innerWrap">
      <div class="iPhoneImage"><div class="ph"></div></div>
        <header>
          <h1>
            <span>A Dynamic Music App</span>
            <span class="sub">That Adjusts to Your Tabletop RPG.</span>
          </h1>
        </header>
      </div>
    </div>
  <div id="secondaryMMA">

    <div class="content">
    <div class="innerWrap">
        <div class="iPhoneImage">
          <div class="animatedImage"></div>
        </div>
        <div class="copy">
          <p>ScorePio uses the iPhone's built-in microphone to dynamically integrate music in to your TTRPG. The app analyzes the player's energy levels in real-time and adjusts the music to match. Speech detection can be enabled to trigger sound effects and recognize when players enter combat.</p>  
        </div>
      </div>
    </div>
  </div>


  <div id="dynamicOrchestrations">
    <div class="innerWrap">
      <div class="symbol">
        <div class="mixer"></div>
      </div>
      <div class="content">
        <h2>Dynamic Volume</h2>
        <h3>Microphone detects player energy and automatically adjusts levels.</h3>
        <p>The music will grow and shrink in real time along with the ebb & flow of your gameplay. As your players get more excited, the music will crescendo. Likewise, during the quietest moments of gameplay, the composition will shrink to only an instrument or two.</p>
        <p>One of the biggest challenges of using music in your TTRPG is managing levels. A bombastic track during a quiet moment quickly breaks immersion. ScorePio attempts to solve this by arranging the music around your game.</p>
        <video src="video/dynamic-gnolls.mp4" poster="images/dynamic-gnolls-poster.jpg" controls />
      </div>
    </div>
  </div>





  <div id="triggeredFX">
    <div class="innerWrap">
      <div class="symbol">
        <div class="mic"></div>
      </div>
      <div class="content">
        <h2>Speech-Triggered SFX</h2>
        <h3>Choose a word to trigger a sound effect.</h3>
        <p>The Incantations feature allows you to create custom trigger words that, when detected by the microphone, play a specific sound effect. The video below demonstrates how to play a thunder sound effect whenever the word "thunder" is spoken.</p>
        <video src="video/yasha-storm.mp4" poster="images/yasha-storm-poster.jpg" controls />
      </div>
    </div>
  </div>


  <div id="combatDetection">
    <div class="innerWrap">
      <div class="symbol">
        <div class="combat"></div>
      </div>
      <div class="content">
        <h2>Intelligent Combat Detection</h2>
        <p>If enabled, ScorePio can recognize when the game has entered combat. This is done using a Machine Learning engine that has been trained to identify words and phrases that are associated with combat in D&D.</p>
        
        <div class="demo">

          <h3>Try It Yourself!</h3>

          <p>This demonstration uses the AI model to analyze text. Write a sentence that you or your players may use during a game and it will determine if it's from combat. You can try the samples below or write your own:</p>
  
          <ul class="samplePhrases">
            <li>You take 7 points of necrotic damage.</li>
            <li>We should go to the inn for the night.</li>
            <li>How much does the leather pouch cost?</li>
            <li>Roll constitution save against poison.</li>
          </ul>
          
  
          <form id="combatDetectionForm">
            <div id="combatDetectionTextInputContainer">
              <label id="combatDetectionTextLabel" for="combatDetectionTextInput">Type Content</label>
              <input id="combatDetectionTextInput" name="combatDetectionTextInput" type="text" />
            </div>
            <input id="combatDetectionSubmitButton" type="submit" value="Analyze" />
            <p id="combatDetectionResponse">&nbsp;</p>
          </form>
        </div>


        <p>The model may not be accurate with every isolated phrase, but over time, the ScorePio app can usually get a confident sense if the players are in combat, which will allow playlists and sounds to change. The AI will require more data, but has been specifically trained to recognize combat in D&D 5th Edition with more games and scenarios planned for the future.</p>
      </div>
    </div>
  </div>

  <style>
    #combatDetection .demo {
      max-width: 26rem;
      margin: 1rem auto;
    }
    #combatDetection h3 {
      color: #1da4c1;
      font-size: 1.5rem;
      margin-top: 2rem;
    }
    #combatDetection .samplePhrases li {
      font-style: italic;
      margin-bottom: 0.75rem;
      text-align: center;
      font-size: 1.2rem;
    }
    #combatDetectionTextInputContainer {
      background: #fff;
      border: 1px solid #3a484b;
      position: relative;
      margin-bottom: 1rem;
    }
    #combatDetectionTextInputContainer label,
    #combatDetectionTextInputContainer input
    {
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      padding: 1rem;
    }
    #combatDetectionTextInputContainer label {
      position: absolute;
      left: 0;
      top: 0;
      color: #777;
      transition: opacity 0.3s, visibility 0.3s;
    }
    #combatDetectionTextInputContainer input {
      position: relative;
      z-index: 10;
      background: none;
      border: none;
      margin: 0;
      font-family: 'IM Fell English', serif;
      font-size: 1rem;
    }
    #combatDetectionSubmitButton {
      font-family: 'IM Fell English', serif;
      font-size: 1.25rem;
      padding: 0.5rem 1.5rem;
      background-color: #1da4c1;
      color: #dee3e4;
      border: none;
      margin-bottom: 1rem;
    }
    #combatDetectionSubmitButton:disabled {
      background-color: #8fa6ab;
    }
    #combatDetectionResponse {
      color: #1da4c1;
    }
  </style>


  <script>

    const combatDetectionForm = document.getElementById('combatDetectionForm')
    const combatDetectionTextInput = document.getElementById('combatDetectionTextInput')
    const combatDetectionTextLabel = document.getElementById('combatDetectionTextLabel')
    const combatDetectionSubmitButton = document.getElementById('combatDetectionSubmitButton')
    const combatDetectionResponse = document.getElementById('combatDetectionResponse')

    let combatDetectionString = ""


    async function querySentimentAnalysis(instanceLine) {
      const data = {
        // instances: "Roll d 20 for constitution save against poison."
        instances: instanceLine
      }
      const settings = {
          method: 'GET',
          headers: {
              // "instances": "hello this is a test",
              // "Access-Control-Allow-Origin": "*",
              // "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept",
              // Accept: 'application/json',
              'Content-Type': 'application/json',
          },
          // body: JSON.stringify(data),
          // body: JSON.stringify(data) // body data type must 
      };
      try {
          const fetchResponse = await fetch(`api/?instances=${instanceLine}`, settings);
          // console.log(fetchResponse)
          const data = await fetchResponse.json();
          const prediction = data.prediction
          return prediction;
      } catch (e) {
          return e;
      }    

    }

    const getConfidenceRatio = function (prediction) {
      const abs = Math.abs(prediction)
      const ratio = abs / 3
      return ratio > 1 ? 1 : ratio
    }
    const getConfidencePercentage = function(prediction) {
      const confidenceRatio = getConfidenceRatio(prediction)
      return Math.round(confidenceRatio * 100)
    }
    const getStringFromPrediction = function(prediction) {
      const detectionPhrase = prediction > 0 ? `Combat` : `Not combat`
      const confidencePercentage = getConfidencePercentage(prediction)
      return `${detectionPhrase} with a confidence of ${confidencePercentage}%.`
      
    }
    const combatDetectionFormHandler = function(e){
      event.preventDefault()
      combatDetectionSubmitButton.disabled = true
      querySentimentAnalysis(combatDetectionTextInput.value)
      .then((response) => {
        console.log(getStringFromPrediction(response))
        combatDetectionResponse.innerHTML = getStringFromPrediction(response)
        combatDetectionSubmitButton.disabled = false
      });
      console.log(combatDetectionTextInput.value)
    }


    const inputHandler = function(e) {
      console.log(combatDetectionTextInput.value)
      combatDetectionString = combatDetectionTextInput.value
      combatDetectionResponse.innerHTML = `&nbsp;`
      handleLabelVisibility(combatDetectionString)
    }

    const handleLabelVisibility = function(combatDetectionString) {
      const opacity = combatDetectionString == "" ? 1 : 0
      combatDetectionTextLabel.style.opacity = opacity

    }

    combatDetectionTextInput.addEventListener('input', inputHandler);
    combatDetectionTextInput.addEventListener('propertychange', inputHandler); // for IE8
// Firefox/Edge18-/IE9+ don’t fire on <select><option>
// source.addEventListener('change', inputHandler); 


    combatDetectionForm.onsubmit = combatDetectionFormHandler
    
    

  </script>

  <div class="minorSection" id="appState">
    <div class="innerWrap">
      <h2>Current State</h2>
      <p>This app has been a passion project since 2019 with the goal of providing Game Masters a tool to more easily and effectively integrate music in to their games. Hundreds (likely thousands) of hours have been spent on this project and the next steps will require much more work and the help of more people. Before continuing, I want to share the idea with a small group of GMs for feedback and thoughts.</p>
      <p>Thank you for taking a look at this project. I sincerely appreciate any thoughts and opinions. The beauty of technology is that almost anything is possible. My main goal is to provide all games with the dynamic musical score they deserve.</p>
    </div>
  </div>

  <div class="minorSection" id="musicDirection">
    <div class="innerWrap">
      <h2>Music Direction</h2>
      <p>The vision for the music is to create both scenario music (combat, travel, tavern, etc.) and cultural music. I believe there is a lot of unexplored territory in developing the sound of each culture in D&D.</p>
      <h3>Previous Work</h3>

      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/1AlWbNgnXzbJMz4LTtek37?utm_source=generator&theme=0" width="100%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>

      <h3>Conceptual Demos</h3>

      <iframe width="100%" height="450" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/1450071505%3Fsecret_token%3Ds-lFrysbMfLoD&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/williampiotrowski" title="William Piotrowski" target="_blank" style="color: #cccccc; text-decoration: none;">William Piotrowski</a> · <a href="https://soundcloud.com/williampiotrowski/sets/scorepio-conceptual-demos/s-lFrysbMfLoD" title="ScorePio Conceptual Demos" target="_blank" style="color: #cccccc; text-decoration: none;">ScorePio Conceptual Demos</a></div>

    </div>
  </div>

  <div class="minorSection" id="biography">
    <div class="innerWrap">
      <h2>Biography</h2>
      <p>Hello. Thanks for making it this far. I first started composing music at 15 as a member of the orchestral band, <a href="https://noxarcana.com" target="_blank">Nox Arcana</a>. In 2013, I moved to Los Angeles and had the opportunity to score and produce a couple of feature films. For the past six years, I have been primarily working as an engineer and producer with Ryan Ross (Panic! at the Disco).</p>
      <p>Fantasy games have always been an important part of my life. The idea for Nox Arcana originated from weekly video game sessions playing Might & Magic. Much of my childhood was dedicated to a Half-Elf ranger on the Brell Serilis server of Everquest or playing Magic: the Gathering. I also made myself a full chainmail shirt and coif to wear to the Great Lakes Ren Fair when I was in high school.</p>
      <p>After graduating with a degree in Visual Communication & Design from Kent State University, I worked for a few years building the front-end of Progressive.com. This app has been a passion project combining my passion for composing, code and fantasy games.</p>
      <p><a href="https://williampiotrowski.com/repertorium" target="_blank">Official Music Site</a></p>
    </div>
  </div>

  <div class="minorSection" id="ethics">
    <div class="innerWrap">
      <h2>Privacy & Ethics</h2>
      <p>Any use of the built-in microphone requires sensitivity and the ScorePio app does not and will not track its user's speech or game data. The dynamic music feature requires the user's permission to use the microphone, but only stores the audio for a fraction of a second. It does not detect speech. The Incantations (speech-triggered sound effects) and combat detection features both require speech detection to be enabled. This service sends audio data to Apple's server. Apple then returns the detected text, which is stored locally on the phone for a short amount of time (less than a few minutes), analyzed and then deleted. The text is never sent to a ScorePio or affiliated server.</p>
      <p>The music and app is the product and ScorePio will never sell a user's data.</p>
    </div>
  </div>


  <div class="minorSection" id="disclaimer">
    <div class="innerWrap">
      <h2>Copyright Content</h2>
      <p>The ScorePio app has been developed using clips from Critical Role and LA by Night – I have listened to some scenes for countless hours on loop while dialing in the code. Some of these clips have been used on this page to demonstrate the app's features. This app is not endorsed by or affiliated with any of the creators and this is being used for private demonstration only. This content is not for public release – please do not share.</p>
    </div>
  </div>



  <script src="js/vendor/modernizr-3.11.2.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>


  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set', 'anonymizeIp', true); ga('set', 'transport', 'beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script>
</body>

</html>
